// Insert the new timeline items into the timeline container
console.log("Inserting new items into timeline...");
document.getElementById('timeline-items').insertAdjacentHTML('beforeend', "<%= j render partial: 'timeline_item', collection: @timeline_items, as: :timeline_item %>");

// Set the next page URL if there are more pages, disable the button if no more pages
<% if @timeline_items.next_page %>
  var nextPageUrl = "<%= timeline_items_client_path(@client, page: @timeline_items.next_page) %>";
  document.getElementById('timeline-items').setAttribute('data-timeline-next-url', nextPageUrl);
  console.log("Next page URL set to: ", nextPageUrl);
<% else %>
  const loadMoreButton = document.getElementById('load-more');
  if (loadMoreButton) {
    loadMoreButton.disabled = true;
    loadMoreButton.classList.add('disabled'); // Add a class to change appearance
    loadMoreButton.innerText = 'No More Items'; // Update button text
    console.log("No more items. Load More button disabled.");
  }
<% end %>
